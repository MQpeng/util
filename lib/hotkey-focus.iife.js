var KeyFocus=(()=>{var h=Object.defineProperty;var m=n=>h(n,"__esModule",{value:!0});var E=(n,e)=>{m(n);for(var t in e)h(n,t,{get:e[t],enumerable:!0})};var k={};E(k,{buildLink:()=>y,default:()=>c,getElementLeft:()=>b,getElementTop:()=>p});var c=class{constructor(e,t=!0,r="keydown"){this.elements=[];this.useCapture=!0;this.eventsHandler=[];this.keyEvent="keydown";this.updateElements(e),this.useCapture=t,this.keyEvent=r}updateElements(e){if(this.removeAllListener(),!e||!e.length)throw new Error("Elements must be not null or undefined");this.destroyLink(),this.elements=y(e)}bindKey(e,t){this.elements.forEach((r,i,f)=>{let o=a=>{let s="",l;if(!(e&&(l=e(a,r),l===!1))){switch(a.key){case"Enter":case"ArrowRight":s="next";break;case"ArrowLeft":s="last";break;case"ArrowDown":s="bottom";break;case"ArrowUp":s="top";break}this.getFocus(l||r[s]),t&&t(a,r)}};this.eventsHandler.push({element:r.value,onHandler:o}),r.value.addEventListener(this.keyEvent,o,this.useCapture)})}removeAllListener(){this.eventsHandler.forEach(({element:e,onHandler:t})=>{e.removeEventListener(this.keyEvent,t,this.useCapture)}),this.eventsHandler.length=0}getFocus(e){!e||(e.focus&&e.focus(),e.select&&e.select())}destroyLink(){this.elements&&this.elements.length&&this.elements.filter(e=>e).forEach(e=>{e.next=null,e.last=null,e.top=null,e.bottom=null})}};function y(n){let e=[],t=-1,r=0,i=0,f=0;return Array.from(n).forEach((o,a,s)=>{let l=p(o);Math.abs(f-l)>5&&(t++,i=Math.max(r,i),r=0,f=l);let u=t-1<0?null:e[r+i*(t-1)];u&&(u.bottom=o);let d={value:o,next:s[a+1],last:s[a-1],row:t,column:r,top:u==null?void 0:u.value};e.push(d),r++}),e}function b(n){for(var e=n.offsetLeft,t=n.offsetParent;t!==null;)e+=t.offsetLeft+t.clientLeft,t=t.offsetParent;return e}function p(n){for(var e=n.offsetTop,t=n.offsetParent;t!==null;)e+=t.offsetTop+t.clientTop,t=t.offsetParent;return e}return k;})();
